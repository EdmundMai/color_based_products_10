


Started GET "/" for 127.0.0.1 at 2014-07-09 17:30:55 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by SiteController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$Kv0fxINRANH8cWFkavZkqO"]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  Rendered site/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered shared/_navbar.html.erb (10.4ms)
Completed 200 OK in 3196ms (Views: 3176.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/admin.css?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.turbolinks.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.iframe-transport.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.remotipart.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.core.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.widget.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.accordion.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.position.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.menu.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.autocomplete.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.button.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.datepicker.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.mouse.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.draggable.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.resizable.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.dialog.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.droppable.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-blind.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-bounce.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-clip.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-drop.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-explode.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-fade.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-fold.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-highlight.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-pulsate.js?body=1" for 127.0.0.1 at 2014-07-09 17:30:59 -0400


Started GET "/assets/jquery.ui.effect-scale.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.effect-shake.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.effect-slide.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.effect-transfer.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.progressbar.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.selectable.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.slider.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.sortable.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.spinner.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.tabs.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.tooltip.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/jquery.ui.all.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/admin.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:00 -0400


Started GET "/products" for 127.0.0.1 at 2014-07-09 17:31:06 -0400
Processing by ProductsController#index as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`  WHERE `products`.`active` = 1  ORDER BY name ASC[0m
  Rendered products/index.html.erb within layouts/application (5.5ms)
  Rendered shared/_navbar.html.erb (1.6ms)
Completed 200 OK in 58ms (Views: 41.5ms | ActiveRecord: 3.2ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `products` (`active`, `created_at`, `long_description`, `meta_description`, `name`, `page_title`, `short_description`, `updated_at`) VALUES (1, '2014-07-09 21:31:39', 'L0ngD3sc', 'My Meta Description', 'Lorem1', 'My Title', 'sh0rtDesC', '2014-07-09 21:31:39')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mColor Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `colors`  WHERE `colors`.`name` = BINARY 'my-color1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `colors` (`created_at`, `image`, `name`, `updated_at`) VALUES ('2014-07-09 21:31:39', 'sample_img.jpg', 'my-color1', '2014-07-09 21:31:39')
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `products_colors` (`color_id`, `created_at`, `mens`, `product_id`, `updated_at`, `womens`) VALUES (1, '2014-07-09 21:31:39', 0, 1, '2014-07-09 21:31:39', 0)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sizes` (`created_at`, `name`, `sort_order`, `updated_at`) VALUES ('2014-07-09 21:31:39', 'my-size1', 1, '2014-07-09 21:31:39')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `variants` (`created_at`, `in_stock`, `list_price_cents`, `measurements`, `size_id`, `sku`, `updated_at`, `weight`) VALUES ('2014-07-09 21:31:39', 1, 1122, 'MyString', 1, 'abc123', '2014-07-09 21:31:39', 9.99)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `variants` SET `products_color_id` = 1, `updated_at` = '2014-07-09 21:31:39' WHERE `variants`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `product_images` (`created_at`, `image`, `updated_at`) VALUES ('2014-07-09 21:31:40', 'sample_img.jpg', '2014-07-09 21:31:40')[0m
  [1m[35m (11.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `product_images` SET `products_color_id` = 1, `updated_at` = '2014-07-09 21:31:40' WHERE `product_images`.`id` = 1
  [1m[36m (15.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mColor Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `colors`  WHERE `colors`.`name` = BINARY 'my-color2' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `colors` (`created_at`, `image`, `name`, `updated_at`) VALUES ('2014-07-09 21:31:40', 'sample_img.jpg', 'my-color2', '2014-07-09 21:31:40')
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `products_colors` (`color_id`, `created_at`, `mens`, `product_id`, `updated_at`, `womens`) VALUES (2, '2014-07-09 21:31:40', 0, 1, '2014-07-09 21:31:40', 0)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sizes` (`created_at`, `name`, `sort_order`, `updated_at`) VALUES ('2014-07-09 21:31:40', 'my-size2', 2, '2014-07-09 21:31:40')
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `variants` (`created_at`, `in_stock`, `list_price_cents`, `measurements`, `size_id`, `sku`, `updated_at`, `weight`) VALUES ('2014-07-09 21:31:40', 1, 1122, 'MyString', 2, 'abc123', '2014-07-09 21:31:40', 9.99)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `variants` SET `products_color_id` = 2, `updated_at` = '2014-07-09 21:31:40' WHERE `variants`.`id` = 2
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `product_images` (`created_at`, `image`, `updated_at`) VALUES ('2014-07-09 21:31:40', 'sample_img.jpg', '2014-07-09 21:31:40')[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `product_images` SET `products_color_id` = 2, `updated_at` = '2014-07-09 21:31:40' WHERE `product_images`.`id` = 2
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m


Started GET "/" for 127.0.0.1 at 2014-07-09 17:31:44 -0400
Processing by SiteController#index as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  Rendered site/index.html.erb within layouts/application (0.3ms)
  Rendered shared/_navbar.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/admin.css?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.turbolinks.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.iframe-transport.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.remotipart.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.core.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.widget.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.accordion.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.position.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.menu.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.autocomplete.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.button.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.datepicker.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.mouse.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.draggable.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.resizable.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.dialog.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.droppable.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-blind.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-bounce.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-clip.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-drop.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-explode.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-fade.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-fold.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-highlight.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-pulsate.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-scale.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-shake.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-slide.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.effect-transfer.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.progressbar.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.selectable.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.slider.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.sortable.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.spinner.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.tabs.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.tooltip.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:44 -0400


Started GET "/assets/jquery.ui.all.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:45 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:45 -0400


Started GET "/assets/admin.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:45 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-07-09 17:31:45 -0400


Started GET "/products" for 127.0.0.1 at 2014-07-09 17:31:58 -0400
Processing by ProductsController#index as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mProduct Load (0.8ms)[0m  SELECT `products`.* FROM `products`  WHERE `products`.`active` = 1  ORDER BY name ASC
  Rendered products/index.html.erb within layouts/application (16.8ms)
  Rendered shared/_navbar.html.erb (0.6ms)
Completed 200 OK in 39ms (Views: 36.5ms | ActiveRecord: 1.1ms)


Started GET "/products/1" for 127.0.0.1 at 2014-07-09 17:31:59 -0400
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  `products`.* FROM `products`  WHERE `products`.`id` = 1  ORDER BY name ASC LIMIT 1[0m
  [1m[35mProductsColor Load (0.6ms)[0m  SELECT `products_colors`.* FROM `products_colors`  WHERE `products_colors`.`product_id` = 1
  [1m[36mColor Load (0.3ms)[0m  [1mSELECT  `colors`.* FROM `colors`  WHERE `colors`.`id` = 1  ORDER BY name ASC LIMIT 1[0m
  [1m[35mVariant Load (0.6ms)[0m  SELECT `variants`.* FROM `variants`  WHERE `variants`.`products_color_id` = 1
  [1m[36mSize Load (0.6ms)[0m  [1mSELECT  `sizes`.* FROM `sizes`  WHERE `sizes`.`id` = 1  ORDER BY sort_order ASC LIMIT 1[0m
  [1m[35mColor Load (0.6ms)[0m  SELECT  `colors`.* FROM `colors`  WHERE `colors`.`id` = 2  ORDER BY name ASC LIMIT 1
  [1m[36mVariant Load (0.3ms)[0m  [1mSELECT `variants`.* FROM `variants`  WHERE `variants`.`products_color_id` = 2[0m
  [1m[35mSize Load (0.2ms)[0m  SELECT  `sizes`.* FROM `sizes`  WHERE `sizes`.`id` = 2  ORDER BY sort_order ASC LIMIT 1
  Rendered products/show.html.erb within layouts/application (185.8ms)
  Rendered shared/_navbar.html.erb (0.7ms)
Completed 200 OK in 210ms (Views: 164.8ms | ActiveRecord: 42.7ms)


Started POST "/checkout/add_to_cart" for 127.0.0.1 at 2014-07-09 17:32:00 -0400
Processing by CheckoutsController#add_to_cart as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GziqksI9WZnW1Bjb4ZMHVUCg2jObiBaPmHnQWlL2LWs=", "quantity"=>"1", "variant_id"=>"1", "commit"=>"Add to cart"}
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users`  WHERE `users`.`guest` = 1 AND `users`.`guest_email` = 'guest_140494152098@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `guest`, `guest_email`, `updated_at`) VALUES ('2014-07-09 21:32:00', 1, 'guest_140494152098@example.com', '2014-07-09 21:32:00')[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`user_id` = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `user_id`) VALUES ('2014-07-09 21:32:00', '2014-07-09 21:32:00', 1)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`user_id` = 1 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 1 AND `cart_items`.`variant_id` = 1  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`id` = 1 LIMIT 1[0m
  [1m[35mVariant Load (0.3ms)[0m  SELECT  `variants`.* FROM `variants`  WHERE `variants`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`cart_id`, `created_at`, `quantity`, `updated_at`, `variant_id`) VALUES (1, '2014-07-09 21:32:00', 1, '2014-07-09 21:32:00', 1)[0m
  [1m[35m (0.5ms)[0m  COMMIT
Redirected to http://localhost:3000/checkout
Completed 302 Found in 170ms (ActiveRecord: 15.1ms)


Started GET "/checkout" for 127.0.0.1 at 2014-07-09 17:32:00 -0400
Processing by CheckoutsController#show as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  WHERE `carts`.`user_id` = 1 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 1[0m
  [1m[35mVariant Load (0.3ms)[0m  SELECT  `variants`.* FROM `variants`  WHERE `variants`.`id` = 1 LIMIT 1
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  `products`.* FROM `products` INNER JOIN `products_colors` ON `products`.`id` = `products_colors`.`product_id` WHERE `products_colors`.`id` = 1  ORDER BY name ASC LIMIT 1[0m
  [1m[35mSize Load (0.3ms)[0m  SELECT  `sizes`.* FROM `sizes`  WHERE `sizes`.`id` = 1  ORDER BY sort_order ASC LIMIT 1
  [1m[36mProductsColor Load (0.2ms)[0m  [1mSELECT  `products_colors`.* FROM `products_colors`  WHERE `products_colors`.`id` = 1 LIMIT 1[0m
  [1m[35mColor Load (0.5ms)[0m  SELECT  `colors`.* FROM `colors`  WHERE `colors`.`id` = 1  ORDER BY name ASC LIMIT 1
  Rendered checkouts/show.html.erb within layouts/application (37.2ms)
  Rendered shared/_navbar.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 56.8ms | ActiveRecord: 2.9ms)


Started GET "/assets/admin.css?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.turbolinks.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.iframe-transport.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.remotipart.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.core.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.widget.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.accordion.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.position.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.menu.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.autocomplete.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.button.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.datepicker.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.mouse.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.draggable.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.resizable.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.dialog.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.droppable.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-blind.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-bounce.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-clip.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-drop.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-explode.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-fade.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-fold.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-highlight.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-pulsate.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-scale.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-shake.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-slide.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.effect-transfer.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.progressbar.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.selectable.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.slider.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.sortable.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.spinner.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.tabs.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.tooltip.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/jquery.ui.all.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/admin.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-07-09 17:32:00 -0400


Started GET "/checkout/billing" for 127.0.0.1 at 2014-07-09 17:32:01 -0400
Processing by CheckoutsController#billing as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  `orders`.* FROM `orders`  WHERE `orders`.`user_id` = 1 AND `orders`.`status` = 'Incomplete'  ORDER BY `orders`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `status`, `updated_at`, `user_id`) VALUES ('2014-07-09 21:32:01', 'Incomplete', '2014-07-09 21:32:01', 1)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCoupon Load (0.4ms)[0m  SELECT  `coupons`.* FROM `coupons`  WHERE (DATE(start_date) <= '2014-07-09' AND DATE(end_date) >= '2014-07-09') AND `coupons`.`site_wide` = 1  ORDER BY `coupons`.`id` DESC LIMIT 1
  [1m[36mState Load (0.5ms)[0m  [1mSELECT `states`.* FROM `states`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `states`.* FROM `states`
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts`  WHERE `carts`.`user_id` = 1 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items`  WHERE `cart_items`.`cart_id` = 1
  [1m[36mVariant Load (0.3ms)[0m  [1mSELECT  `variants`.* FROM `variants`  WHERE `variants`.`id` = 1 LIMIT 1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  `products`.* FROM `products` INNER JOIN `products_colors` ON `products`.`id` = `products_colors`.`product_id` WHERE `products_colors`.`id` = 1  ORDER BY name ASC LIMIT 1
  [1m[36mSize Load (0.3ms)[0m  [1mSELECT  `sizes`.* FROM `sizes`  WHERE `sizes`.`id` = 1  ORDER BY sort_order ASC LIMIT 1[0m
  Rendered checkouts/billing.html.erb within layouts/application (128.4ms)
  Rendered shared/_navbar.html.erb (0.4ms)
Completed 200 OK in 304ms (Views: 146.4ms | ActiveRecord: 12.1ms)


Started POST "/checkout/signup_user" for 127.0.0.1 at 2014-07-09 17:32:12 -0400
Processing by CheckoutsController#signup_user as JS
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"abc@yahoo.com", "password"=>"[FILTERED]", "guest"=>"false"}, "commit"=>"Sign up"}
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: 1
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users`  WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users`  WHERE (`users`.`email` = BINARY 'abc@yahoo.com' AND `users`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `email` = 'abc@yahoo.com', `encrypted_password` = '$2a$10$0CHi9pKPfEpkpXOvoAdR0uZwPrdRivCWwrtI/qXS.Hxx6t8TGkmzq', `guest` = 0, `updated_at` = '2014-07-09 21:32:12' WHERE `users`.`id` = 1[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (8.8ms)[0m  UPDATE `users` SET `current_sign_in_at` = '2014-07-09 21:32:12', `current_sign_in_ip` = '127.0.0.1', `last_sign_in_at` = '2014-07-09 21:32:12', `last_sign_in_ip` = '127.0.0.1', `sign_in_count` = 1, `updated_at` = '2014-07-09 21:32:12' WHERE `users`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `roles` INNER JOIN `users_roles` ON `roles`.`id` = `users_roles`.`role_id` WHERE `users_roles`.`user_id` = 1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))
  Rendered shared/_navbar.html.erb (18.4ms)
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  `orders`.* FROM `orders`  WHERE `orders`.`user_id` = 1 AND `orders`.`status` = 'Incomplete'  ORDER BY `orders`.`id` ASC LIMIT 1[0m
  Rendered checkouts/signup_user.js.erb (23.5ms)
Completed 200 OK in 121ms (Views: 22.1ms | ActiveRecord: 17.2ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
SQLite3::SQLException: no such table: users: SELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20140513193955)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140513193955"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to RolifyCreateRoles (20140513200944)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "resource_id" integer, "resource_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users_roles" ("user_id" integer, "role_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140513200944"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateProducts (20140513212911)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140513212911"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateVariants (20140514191831)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140514191831"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddSkuToVariants (20140515164743)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "sku" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140515164743"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateColors (20140516153259)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140516153259"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateProductImages (20140516201749)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140516201749"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddMenAndWomenToVariants (20140519194741)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "men" boolean
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "women" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140519194741"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddColorIdToVariants (20140521154308)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "variants" ADD "color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521154308"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorFromVariants (20140521154918)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521154918"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddColorIdToProductImages (20140521162328)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "product_images" ADD "color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521162328"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddFeaturedMensAndWomensColorIdsToProducts (20140521164031)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "featured_mens_color_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "featured_womens_color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521164031"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddActiveToVariants (20140521183904)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "variants" ADD "active" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521183904"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveNameFromProductImages (20140521184523)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "product_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "product_images"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproduct_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproduct_images"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521184523"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddSortOrderToProductImages (20140521194954)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "product_images" ADD "sort_order" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521194954"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateVendors (20140522140822)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "vendors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522140822"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddVendorIdToProducts (20140522141244)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "products" ADD "vendor_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522141244"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to UpdateVariantsToUseMoneyGem (20140522185845)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522185845"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to ChangeVariantPriceToAllowNil (20140522193039)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0 NOT NULL, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522193039"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to SplitDescriptionIntoLongAndShortDescriptionForProducts (20140522200049)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "products"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products" ADD "short_description" text
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "long_description" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522200049"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveFeaturedMensColorAndFeaturedWomensColorFromProducts (20140522203037)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "products"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "products"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522203037"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateProductsColors (20140522205731)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products_colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "color_id" integer, "product_id" integer, "mens" boolean, "womens" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522205731"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddProductsColorIdToVariants (20140522210043)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "variants" ADD "products_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522210043"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddProductsColorIdToProductsImages (20140522210103)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "product_images" ADD "products_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522210103"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveProductIdFromVariantsAndProductImages (20140522211238)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522211238"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorIdFromVariants (20140522212946)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522212946"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateShapes (20140523165008)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "shapes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165008"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddShapeIdToProducts (20140523165153)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "shape_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165153"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateMaterials (20140523165252)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "materials" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165252"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddMaterialIdToProducts (20140523165425)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "material_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165425"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddMensSortOrderAndWomensSortOrderToProductsColors (20140527185556)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products_colors" ADD "mens_sort_order" integer
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products_colors" ADD "womens_sort_order" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527185556"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateSizes (20140527194605)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sizes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "sort_order" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527194605"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangeSizeToSizeIdForVariants (20140527195014)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "size_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527195014"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateCategories (20140529155933)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529155933"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddCategoryIdToProducts (20140529160219)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "category_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529160219"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveMenWomenFromVariants (20140529162321)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529162321"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to AddTaxableToProducts (20140529182947)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "taxable" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529182947"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveInstockFromVariants (20140530161753)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "in_stock" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140530161753"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveColorIdFromProductImages (20140530215558)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140530215558"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20140602202839)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602202839"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateCartItems (20140602204130)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "item_identifier" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602204130"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddGuestEmailAndGuestToUsers (20140602213217)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "guest" boolean[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "guest_email" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140602213217"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateAddresses (20140603151449)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603151449"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to RemoveItemIdentifierAndAddVariantIdToCartItems (20140603154032)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "acart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "cart_items"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "cart_items"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "acart_items"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "acart_items"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603154032"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePurchases (20140603154801)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603154801"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddShippingAndBillingAddressIdsToPurchases (20140603155828)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "purchases" ADD "shipping_address_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "purchases" ADD "billing_address_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603155828"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateLineItems (20140603160648)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "purchase_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603160648"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateStates (20140603190008)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "long_name" varchar(255), "short_name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603190008"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddStateIdAndCityToAddresses (20140603190208)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "addresses" ADD "state_id" integer
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "addresses" ADD "city" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603190208"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddStatusToPurchases (20140603201320)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "purchases" ADD "status" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603201320"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to MoveForeignKeyFromPurchasesToAddress (20140603214200)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "shipping_address_id" integer, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "purchases"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "purchases"[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "apurchases"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "apurchases"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "purchases"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "purchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "status" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "apurchases"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "apurchases"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "shipped_purchase_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "billed_purchase_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603214200"]]
  [1m[35m (1.1ms)[0m  commit transaction
Migrating to MakeAddressesTablePolymorphic (20140604134458)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer, "billed_purchase_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "addressable_type" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "addressable_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_type", "addressable_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604134458"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to RemoveAddressableTypeAndIdFromAddresses (20140604152332)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_type" varchar(255), "addressable_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_type", "addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_id")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "type" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604152332"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddPurchaseIdToAddresses (20140604152932)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "addresses" ADD "purchase_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604152932"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveUniqueIndexOnUsersEmail (20140604184719)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_users_on_email"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604184719"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateTaxes (20140605163656)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "taxes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state_id" integer, "zip_code" varchar(255), "rate" decimal(8,5), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140605163656"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangePurchasesTableNameToOrders (20140612155918)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "purchases" RENAME TO "orders"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140612155918"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to ChangeForeignKeysFromPurchaseIdToOrderId (20140612160113)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aline_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "line_items"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aline_items"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140612160113"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to SplitPriceIntoListPriceAndDiscountPriceForVariants (20140616135119)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616135119"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to SetDefaultListAndDiscountPriceToNilForVariants (20140616140020)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_cents" integer DEFAULT 0 NOT NULL, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "variants" ADD "list_price_cents" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_cents" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616140020"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateCoupons (20140616161916)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "coupons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start_date" datetime, "end_date" datetime, "minimum_purchase_amount_cents" integer DEFAULT 0 NOT NULL, "minimum_purchase_amount_currency" varchar(255) DEFAULT 'USD' NOT NULL, "value" decimal(30,2), "type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616161916"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddNameToCoupons (20140616200341)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "name" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616200341"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddSiteWideBooleanToCoupons (20140617191012)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "site_wide" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140617191012"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddCodeToCoupons (20140617212316)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "code" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140617212316"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddCouponIdToOrders (20140618160018)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "coupon_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140618160018"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddSavingsToOrders (20140620135716)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "savings_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "orders" ADD "savings_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620135716"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateCollections (20140620183027)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "short_description" text, "long_description" text, "active" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620183027"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateCollectionsProducts (20140620193614)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "collections_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer, "product_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620193614"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateReturns (20140626141516)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "returns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626141516"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateReturnItems (20140626141855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_id" integer, "quantity" integer, "line_item_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626141855"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddReasonToReturns (20140626162202)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "returns" ADD "reason" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626162202"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddStatusToReturns (20140626165602)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "returns" ADD "status" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626165602"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddRmaCodeToReturns (20140626180807)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "rma_code" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626180807"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddAmountToReturns (20140626183039)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "amount_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "returns" ADD "amount_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626183039"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddUserIdToReturns (20140626183925)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "user_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626183925"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddAdminCommentToReturns (20140626190931)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "admin_comment" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626190931"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddImageToColors (20140630145516)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "colors" ADD "image" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140630145516"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddTrackingNumberToOrders (20140709192351)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "tracking_number" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140709192351"]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'

  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "roles" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", "2016-06-19 20:54:25.877715"], ["name", "admin"], ["updated_at", "2016-06-19 20:54:25.877715"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-06-19 20:54:25.891909"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$xhjLD7PkjW8CGRJydlf0n.mGmBWinoqbFvniAKjmUJF/p2kodjAUC"], ["updated_at", "2016-06-19 20:54:25.891909"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", "2016-06-19 20:55:24.497131"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$elZNJmpGWI7G9iLzFu4Cq.F8vTnLemNML/yDLbgKkZYkM91eHX7Y2"], ["updated_at", "2016-06-19 20:55:24.497131"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)  [["role_id", 1], ["user_id", 1]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", "2016-06-19 20:56:21.416107"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$4tK9EYQJ.Hy8qclpzgzR5Ox93AGE6yF5LNaBgocqx4hw40SoQtRgu"], ["updated_at", "2016-06-19 20:56:21.416107"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)  [["role_id", 1], ["user_id", 1]]
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-06-19 20:56:21.416107"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$4tK9EYQJ.Hy8qclpzgzR5Ox93AGE6yF5LNaBgocqx4hw40SoQtRgu"], ["updated_at", "2016-06-19 20:56:21.416107"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", "2016-06-19 20:56:21.416107"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$M/28R6hgQrnSR.DfmW2i5.LHgO2YaXVEriqOvFrMsRg.NJMq0usNK"], ["updated_at", "2016-06-19 20:56:21.416107"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users_roles" DEFAULT VALUES
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-06-19 20:58:34.693810"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$iOttI85S3mveNmymLX75beBo/1dSH.FsnhaeovzyCLertbR5VzwjK"], ["updated_at", "2016-06-19 20:58:34.693810"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
[0m
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-06-19 21:02:50.240343"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$09NtpkXyXq7o/pTUJrb.7.zH5l/bnV.X0dFEe3Q3.T18wGVYhnaeC"], ["updated_at", "2016-06-19 21:02:50.240343"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
SQLite3::SQLException: no such table: users: SELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20140513193955)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140513193955"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to RolifyCreateRoles (20140513200944)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "resource_id" integer, "resource_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users_roles" ("user_id" integer, "role_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140513200944"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateProducts (20140513212911)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140513212911"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateVariants (20140514191831)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140514191831"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddSkuToVariants (20140515164743)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "sku" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140515164743"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateColors (20140516153259)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140516153259"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateProductImages (20140516201749)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140516201749"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddMenAndWomenToVariants (20140519194741)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "men" boolean
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "women" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140519194741"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddColorIdToVariants (20140521154308)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521154308"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorFromVariants (20140521154918)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521154918"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddColorIdToProductImages (20140521162328)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "product_images" ADD "color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521162328"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddFeaturedMensAndWomensColorIdsToProducts (20140521164031)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "featured_mens_color_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "featured_womens_color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521164031"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddActiveToVariants (20140521183904)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "active" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521183904"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to RemoveNameFromProductImages (20140521184523)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "product_images"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "product_images"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproduct_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproduct_images"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521184523"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddSortOrderToProductImages (20140521194954)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "product_images" ADD "sort_order" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521194954"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateVendors (20140522140822)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "vendors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522140822"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddVendorIdToProducts (20140522141244)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "vendor_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522141244"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to UpdateVariantsToUseMoneyGem (20140522185845)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522185845"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangeVariantPriceToAllowNil (20140522193039)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0 NOT NULL, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522193039"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to SplitDescriptionIntoLongAndShortDescriptionForProducts (20140522200049)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "products"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products" ADD "short_description" text
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "long_description" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522200049"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveFeaturedMensColorAndFeaturedWomensColorFromProducts (20140522203037)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "products"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "products"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522203037"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateProductsColors (20140522205731)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products_colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "color_id" integer, "product_id" integer, "mens" boolean, "womens" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522205731"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddProductsColorIdToVariants (20140522210043)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "products_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522210043"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddProductsColorIdToProductsImages (20140522210103)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "product_images" ADD "products_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522210103"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveProductIdFromVariantsAndProductImages (20140522211238)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522211238"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorIdFromVariants (20140522212946)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522212946"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateShapes (20140523165008)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "shapes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165008"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddShapeIdToProducts (20140523165153)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "shape_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165153"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateMaterials (20140523165252)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "materials" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165252"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddMaterialIdToProducts (20140523165425)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "material_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165425"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddMensSortOrderAndWomensSortOrderToProductsColors (20140527185556)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products_colors" ADD "mens_sort_order" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products_colors" ADD "womens_sort_order" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527185556"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateSizes (20140527194605)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sizes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "sort_order" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527194605"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to ChangeSizeToSizeIdForVariants (20140527195014)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "size_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527195014"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateCategories (20140529155933)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529155933"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddCategoryIdToProducts (20140529160219)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "category_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529160219"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to RemoveMenWomenFromVariants (20140529162321)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529162321"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddTaxableToProducts (20140529182947)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "taxable" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529182947"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveInstockFromVariants (20140530161753)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "in_stock" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140530161753"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveColorIdFromProductImages (20140530215558)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140530215558"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20140602202839)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602202839"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateCartItems (20140602204130)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "item_identifier" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602204130"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddGuestEmailAndGuestToUsers (20140602213217)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "guest" boolean[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "guest_email" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140602213217"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateAddresses (20140603151449)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603151449"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveItemIdentifierAndAddVariantIdToCartItems (20140603154032)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "acart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "cart_items"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "cart_items"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "acart_items"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "acart_items"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603154032"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreatePurchases (20140603154801)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603154801"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddShippingAndBillingAddressIdsToPurchases (20140603155828)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "purchases" ADD "shipping_address_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "purchases" ADD "billing_address_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603155828"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateLineItems (20140603160648)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "purchase_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603160648"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateStates (20140603190008)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "long_name" varchar(255), "short_name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603190008"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddStateIdAndCityToAddresses (20140603190208)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "addresses" ADD "state_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "city" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603190208"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddStatusToPurchases (20140603201320)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "purchases" ADD "status" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603201320"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to MoveForeignKeyFromPurchasesToAddress (20140603214200)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "shipping_address_id" integer, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "purchases"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "purchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "apurchases"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "apurchases"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "purchases"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "purchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "status" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "apurchases"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "apurchases"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "shipped_purchase_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "billed_purchase_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603214200"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to MakeAddressesTablePolymorphic (20140604134458)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer, "billed_purchase_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "addressable_type" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "addressable_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_type", "addressable_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604134458"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to RemoveAddressableTypeAndIdFromAddresses (20140604152332)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_type" varchar(255), "addressable_id" integer) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_type", "addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_id")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "type" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604152332"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddPurchaseIdToAddresses (20140604152932)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "addresses" ADD "purchase_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604152932"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveUniqueIndexOnUsersEmail (20140604184719)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_users_on_email"[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604184719"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateTaxes (20140605163656)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "taxes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state_id" integer, "zip_code" varchar(255), "rate" decimal(8,5), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140605163656"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangePurchasesTableNameToOrders (20140612155918)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "purchases" RENAME TO "orders"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140612155918"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangeForeignKeysFromPurchaseIdToOrderId (20140612160113)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aline_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "line_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aline_items"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140612160113"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to SplitPriceIntoListPriceAndDiscountPriceForVariants (20140616135119)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616135119"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to SetDefaultListAndDiscountPriceToNilForVariants (20140616140020)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_cents" integer DEFAULT 0 NOT NULL, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_cents" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_cents" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616140020"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateCoupons (20140616161916)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "coupons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start_date" datetime, "end_date" datetime, "minimum_purchase_amount_cents" integer DEFAULT 0 NOT NULL, "minimum_purchase_amount_currency" varchar(255) DEFAULT 'USD' NOT NULL, "value" decimal(30,2), "type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616161916"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddNameToCoupons (20140616200341)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "name" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616200341"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddSiteWideBooleanToCoupons (20140617191012)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "coupons" ADD "site_wide" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140617191012"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddCodeToCoupons (20140617212316)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "coupons" ADD "code" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140617212316"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddCouponIdToOrders (20140618160018)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "coupon_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140618160018"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddSavingsToOrders (20140620135716)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "savings_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "orders" ADD "savings_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620135716"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateCollections (20140620183027)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "short_description" text, "long_description" text, "active" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620183027"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateCollectionsProducts (20140620193614)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "collections_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer, "product_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620193614"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateReturns (20140626141516)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "returns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626141516"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateReturnItems (20140626141855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_id" integer, "quantity" integer, "line_item_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626141855"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddReasonToReturns (20140626162202)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "reason" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626162202"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddStatusToReturns (20140626165602)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "status" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626165602"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddRmaCodeToReturns (20140626180807)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "rma_code" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626180807"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddAmountToReturns (20140626183039)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "amount_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "returns" ADD "amount_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626183039"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddUserIdToReturns (20140626183925)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "user_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626183925"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddAdminCommentToReturns (20140626190931)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "admin_comment" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626190931"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddImageToColors (20140630145516)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "colors" ADD "image" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140630145516"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddTrackingNumberToOrders (20140709192351)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "tracking_number" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140709192351"]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'

  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", "2016-06-19 21:07:47.588506"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$so978uG3UkyZZRLJeKB5vu71mCRZVFwyywYw0KNYr05ml1YYwF6IC"], ["updated_at", "2016-06-19 21:07:47.588506"]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-06-19 21:08:38.695207"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$SgGdb5lKf8x7gamtR/825e1xRLCiT/8396dvNYzsEGpZLusfNcppa"], ["updated_at", "2016-06-19 21:08:38.695207"]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  WHERE "carts"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "carts" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", "2016-06-19 21:08:38.711079"], ["updated_at", "2016-06-19 21:08:38.711079"], ["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "roles" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", "2016-06-19 21:08:51.503523"], ["name", "admin"], ["updated_at", "2016-06-19 21:08:51.503523"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE ("users"."email" = 'admin@blah.com' AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users_roles" DEFAULT VALUES[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20140513193955)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140513193955"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to RolifyCreateRoles (20140513200944)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "resource_id" integer, "resource_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users_roles" ("user_id" integer, "role_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140513200944"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateProducts (20140513212911)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140513212911"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateVariants (20140514191831)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140514191831"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddSkuToVariants (20140515164743)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "sku" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140515164743"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateColors (20140516153259)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140516153259"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateProductImages (20140516201749)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140516201749"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddMenAndWomenToVariants (20140519194741)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "men" boolean
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "women" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140519194741"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddColorIdToVariants (20140521154308)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521154308"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorFromVariants (20140521154918)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521154918"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to AddColorIdToProductImages (20140521162328)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "product_images" ADD "color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521162328"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddFeaturedMensAndWomensColorIdsToProducts (20140521164031)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "products" ADD "featured_mens_color_id" integer
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "products" ADD "featured_womens_color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521164031"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddActiveToVariants (20140521183904)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "active" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521183904"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to RemoveNameFromProductImages (20140521184523)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "product_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "product_images"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproduct_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproduct_images"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521184523"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddSortOrderToProductImages (20140521194954)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "product_images" ADD "sort_order" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521194954"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to CreateVendors (20140522140822)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "vendors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522140822"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddVendorIdToProducts (20140522141244)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "vendor_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522141244"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to UpdateVariantsToUseMoneyGem (20140522185845)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522185845"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangeVariantPriceToAllowNil (20140522193039)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0 NOT NULL, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522193039"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to SplitDescriptionIntoLongAndShortDescriptionForProducts (20140522200049)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "products"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products" ADD "short_description" text
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "long_description" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522200049"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to RemoveFeaturedMensColorAndFeaturedWomensColorFromProducts (20140522203037)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "products"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "products"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522203037"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateProductsColors (20140522205731)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "products_colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "color_id" integer, "product_id" integer, "mens" boolean, "womens" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522205731"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddProductsColorIdToVariants (20140522210043)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "products_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522210043"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddProductsColorIdToProductsImages (20140522210103)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "product_images" ADD "products_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522210103"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveProductIdFromVariantsAndProductImages (20140522211238)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522211238"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorIdFromVariants (20140522212946)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522212946"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateShapes (20140523165008)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "shapes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165008"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddShapeIdToProducts (20140523165153)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "shape_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165153"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to CreateMaterials (20140523165252)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "materials" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165252"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddMaterialIdToProducts (20140523165425)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "products" ADD "material_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165425"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddMensSortOrderAndWomensSortOrderToProductsColors (20140527185556)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products_colors" ADD "mens_sort_order" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products_colors" ADD "womens_sort_order" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527185556"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateSizes (20140527194605)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sizes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "sort_order" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527194605"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangeSizeToSizeIdForVariants (20140527195014)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "size_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527195014"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateCategories (20140529155933)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529155933"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCategoryIdToProducts (20140529160219)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "category_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529160219"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveMenWomenFromVariants (20140529162321)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529162321"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddTaxableToProducts (20140529182947)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "taxable" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529182947"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveInstockFromVariants (20140530161753)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "in_stock" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140530161753"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveColorIdFromProductImages (20140530215558)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140530215558"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20140602202839)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602202839"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateCartItems (20140602204130)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "item_identifier" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602204130"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddGuestEmailAndGuestToUsers (20140602213217)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ADD "guest" boolean[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "guest_email" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140602213217"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateAddresses (20140603151449)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603151449"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveItemIdentifierAndAddVariantIdToCartItems (20140603154032)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "acart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "cart_items"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "cart_items"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "acart_items"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "acart_items"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603154032"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePurchases (20140603154801)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603154801"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddShippingAndBillingAddressIdsToPurchases (20140603155828)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "purchases" ADD "shipping_address_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "purchases" ADD "billing_address_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603155828"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateLineItems (20140603160648)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "purchase_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603160648"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateStates (20140603190008)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "long_name" varchar(255), "short_name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603190008"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddStateIdAndCityToAddresses (20140603190208)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "addresses" ADD "state_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "city" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603190208"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddStatusToPurchases (20140603201320)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "purchases" ADD "status" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603201320"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to MoveForeignKeyFromPurchasesToAddress (20140603214200)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "shipping_address_id" integer, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "purchases"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "purchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "apurchases"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "apurchases"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "purchases"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "purchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "status" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "apurchases"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "apurchases"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "shipped_purchase_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "billed_purchase_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603214200"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to MakeAddressesTablePolymorphic (20140604134458)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer, "billed_purchase_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "addressable_type" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "addressable_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_type", "addressable_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604134458"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to RemoveAddressableTypeAndIdFromAddresses (20140604152332)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_type" varchar(255), "addressable_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_type", "addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_id")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "addresses" ADD "type" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604152332"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddPurchaseIdToAddresses (20140604152932)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "addresses" ADD "purchase_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604152932"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveUniqueIndexOnUsersEmail (20140604184719)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_users_on_email"[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604184719"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateTaxes (20140605163656)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "taxes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state_id" integer, "zip_code" varchar(255), "rate" decimal(8,5), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140605163656"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangePurchasesTableNameToOrders (20140612155918)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "purchases" RENAME TO "orders"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140612155918"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangeForeignKeysFromPurchaseIdToOrderId (20140612160113)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aline_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "line_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aline_items"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140612160113"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to SplitPriceIntoListPriceAndDiscountPriceForVariants (20140616135119)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616135119"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to SetDefaultListAndDiscountPriceToNilForVariants (20140616140020)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_cents" integer DEFAULT 0 NOT NULL, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_cents" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_cents" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616140020"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateCoupons (20140616161916)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "coupons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start_date" datetime, "end_date" datetime, "minimum_purchase_amount_cents" integer DEFAULT 0 NOT NULL, "minimum_purchase_amount_currency" varchar(255) DEFAULT 'USD' NOT NULL, "value" decimal(30,2), "type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616161916"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddNameToCoupons (20140616200341)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "name" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616200341"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddSiteWideBooleanToCoupons (20140617191012)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "site_wide" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140617191012"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddCodeToCoupons (20140617212316)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "code" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140617212316"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddCouponIdToOrders (20140618160018)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "coupon_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140618160018"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddSavingsToOrders (20140620135716)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "orders" ADD "savings_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "orders" ADD "savings_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620135716"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateCollections (20140620183027)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "short_description" text, "long_description" text, "active" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620183027"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateCollectionsProducts (20140620193614)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "collections_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer, "product_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620193614"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateReturns (20140626141516)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "returns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626141516"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateReturnItems (20140626141855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_id" integer, "quantity" integer, "line_item_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626141855"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddReasonToReturns (20140626162202)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "reason" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626162202"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddStatusToReturns (20140626165602)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "status" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626165602"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddRmaCodeToReturns (20140626180807)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "returns" ADD "rma_code" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626180807"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddAmountToReturns (20140626183039)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "amount_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "returns" ADD "amount_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626183039"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddUserIdToReturns (20140626183925)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "user_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626183925"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddAdminCommentToReturns (20140626190931)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "returns" ADD "admin_comment" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626190931"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddImageToColors (20140630145516)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "colors" ADD "image" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140630145516"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddTrackingNumberToOrders (20140709192351)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "orders" ADD "tracking_number" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140709192351"]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'

  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "roles" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", "2016-06-19 21:14:09.593986"], ["name", "admin"], ["updated_at", "2016-06-19 21:14:09.593986"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", "2016-06-19 21:14:23.991767"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$Uj8TsYUkMq90aAQwm8zb3.TigCrMo.1PiN.szW2iXGRWv15fjzmAa"], ["updated_at", "2016-06-19 21:14:23.991767"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)  [["role_id", 1], ["user_id", 1]]
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-06-19 21:14:23.991767"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$Uj8TsYUkMq90aAQwm8zb3.TigCrMo.1PiN.szW2iXGRWv15fjzmAa"], ["updated_at", "2016-06-19 21:14:23.991767"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20140513193955)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140513193955"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to RolifyCreateRoles (20140513200944)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "resource_id" integer, "resource_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users_roles" ("user_id" integer, "role_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140513200944"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateProducts (20140513212911)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140513212911"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to CreateVariants (20140514191831)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140514191831"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddSkuToVariants (20140515164743)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "sku" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140515164743"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateColors (20140516153259)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140516153259"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to CreateProductImages (20140516201749)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140516201749"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddMenAndWomenToVariants (20140519194741)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "men" boolean
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "women" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140519194741"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddColorIdToVariants (20140521154308)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521154308"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorFromVariants (20140521154918)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521154918"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddColorIdToProductImages (20140521162328)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "product_images" ADD "color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521162328"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddFeaturedMensAndWomensColorIdsToProducts (20140521164031)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "featured_mens_color_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "featured_womens_color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521164031"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddActiveToVariants (20140521183904)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "active" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521183904"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveNameFromProductImages (20140521184523)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "product_images"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "product_images"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproduct_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproduct_images"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521184523"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddSortOrderToProductImages (20140521194954)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "product_images" ADD "sort_order" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521194954"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateVendors (20140522140822)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "vendors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522140822"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddVendorIdToProducts (20140522141244)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "products" ADD "vendor_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522141244"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to UpdateVariantsToUseMoneyGem (20140522185845)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522185845"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangeVariantPriceToAllowNil (20140522193039)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0 NOT NULL, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522193039"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to SplitDescriptionIntoLongAndShortDescriptionForProducts (20140522200049)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "products"
  [1m[36m (8.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products" ADD "short_description" text
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "long_description" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522200049"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveFeaturedMensColorAndFeaturedWomensColorFromProducts (20140522203037)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "products"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "products"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522203037"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateProductsColors (20140522205731)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products_colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "color_id" integer, "product_id" integer, "mens" boolean, "womens" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522205731"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddProductsColorIdToVariants (20140522210043)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "variants" ADD "products_color_id" integer
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522210043"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddProductsColorIdToProductsImages (20140522210103)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "product_images" ADD "products_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522210103"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveProductIdFromVariantsAndProductImages (20140522211238)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522211238"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorIdFromVariants (20140522212946)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522212946"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateShapes (20140523165008)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "shapes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165008"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddShapeIdToProducts (20140523165153)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "shape_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165153"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateMaterials (20140523165252)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "materials" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165252"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddMaterialIdToProducts (20140523165425)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "material_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140523165425"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddMensSortOrderAndWomensSortOrderToProductsColors (20140527185556)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products_colors" ADD "mens_sort_order" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products_colors" ADD "womens_sort_order" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527185556"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateSizes (20140527194605)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sizes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "sort_order" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527194605"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangeSizeToSizeIdForVariants (20140527195014)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "size_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140527195014"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateCategories (20140529155933)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529155933"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCategoryIdToProducts (20140529160219)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "products" ADD "category_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529160219"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveMenWomenFromVariants (20140529162321)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529162321"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddTaxableToProducts (20140529182947)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "taxable" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529182947"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveInstockFromVariants (20140530161753)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "in_stock" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140530161753"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveColorIdFromProductImages (20140530215558)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140530215558"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateCarts (20140602202839)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602202839"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateCartItems (20140602204130)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "item_identifier" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602204130"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddGuestEmailAndGuestToUsers (20140602213217)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "guest" boolean[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "guest_email" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140602213217"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateAddresses (20140603151449)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603151449"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveItemIdentifierAndAddVariantIdToCartItems (20140603154032)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "acart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "cart_items"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "cart_items"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "acart_items"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "acart_items"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603154032"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePurchases (20140603154801)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603154801"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddShippingAndBillingAddressIdsToPurchases (20140603155828)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "purchases" ADD "shipping_address_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "purchases" ADD "billing_address_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603155828"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateLineItems (20140603160648)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "purchase_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603160648"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateStates (20140603190008)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "long_name" varchar(255), "short_name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603190008"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddStateIdAndCityToAddresses (20140603190208)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "addresses" ADD "state_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "city" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603190208"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddStatusToPurchases (20140603201320)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "purchases" ADD "status" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603201320"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to MoveForeignKeyFromPurchasesToAddress (20140603214200)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "shipping_address_id" integer, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "purchases"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "purchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "apurchases"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "apurchases"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "purchases"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "purchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "apurchases"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "apurchases"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "shipped_purchase_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "billed_purchase_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603214200"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to MakeAddressesTablePolymorphic (20140604134458)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer, "billed_purchase_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "addressable_type" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "addressable_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_type", "addressable_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604134458"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to RemoveAddressableTypeAndIdFromAddresses (20140604152332)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_type" varchar(255), "addressable_id" integer) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_type", "addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "type" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604152332"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to AddPurchaseIdToAddresses (20140604152932)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "addresses" ADD "purchase_id" integer[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604152932"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveUniqueIndexOnUsersEmail (20140604184719)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_users_on_email"[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604184719"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateTaxes (20140605163656)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "taxes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state_id" integer, "zip_code" varchar(255), "rate" decimal(8,5), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140605163656"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to ChangePurchasesTableNameToOrders (20140612155918)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "purchases" RENAME TO "orders"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140612155918"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to ChangeForeignKeysFromPurchaseIdToOrderId (20140612160113)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aline_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "line_items"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aline_items"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140612160113"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to SplitPriceIntoListPriceAndDiscountPriceForVariants (20140616135119)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616135119"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to SetDefaultListAndDiscountPriceToNilForVariants (20140616140020)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_cents" integer DEFAULT 0 NOT NULL, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_cents" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_cents" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616140020"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateCoupons (20140616161916)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "coupons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start_date" datetime, "end_date" datetime, "minimum_purchase_amount_cents" integer DEFAULT 0 NOT NULL, "minimum_purchase_amount_currency" varchar(255) DEFAULT 'USD' NOT NULL, "value" decimal(30,2), "type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616161916"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddNameToCoupons (20140616200341)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "name" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616200341"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddSiteWideBooleanToCoupons (20140617191012)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "site_wide" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140617191012"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddCodeToCoupons (20140617212316)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "coupons" ADD "code" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140617212316"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddCouponIdToOrders (20140618160018)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "coupon_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140618160018"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddSavingsToOrders (20140620135716)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "savings_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "orders" ADD "savings_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620135716"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateCollections (20140620183027)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "short_description" text, "long_description" text, "active" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620183027"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateCollectionsProducts (20140620193614)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "collections_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer, "product_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140620193614"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateReturns (20140626141516)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "returns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626141516"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateReturnItems (20140626141855)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_id" integer, "quantity" integer, "line_item_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626141855"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddReasonToReturns (20140626162202)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "reason" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626162202"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddStatusToReturns (20140626165602)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "returns" ADD "status" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626165602"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddRmaCodeToReturns (20140626180807)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "rma_code" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626180807"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddAmountToReturns (20140626183039)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "returns" ADD "amount_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "returns" ADD "amount_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626183039"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddUserIdToReturns (20140626183925)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "user_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626183925"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddAdminCommentToReturns (20140626190931)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "returns" ADD "admin_comment" text
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626190931"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddImageToColors (20140630145516)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "colors" ADD "image" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140630145516"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddTrackingNumberToOrders (20140709192351)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "tracking_number" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140709192351"]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1
Binary data inserted for `string` type on column `encrypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", "2016-06-19 21:15:44.112227"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$KUlV6gBnXZKcTZ1VBdB2ueKj4zS8QTyYEKAtbJN/tPyRQuFGbrjpy"], ["updated_at", "2016-06-19 21:15:44.112227"]]
  [1m[35mCart Load (0.1ms)[0m  SELECT  "carts".* FROM "carts"  WHERE "carts"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", "2016-06-19 21:15:44.131760"], ["updated_at", "2016-06-19 21:15:44.131760"], ["user_id", 1]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "roles" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", "2016-06-19 21:16:01.799220"], ["name", "admin"], ["updated_at", "2016-06-19 21:16:01.799220"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' AND "roles"."resource_type" IS NULL AND "roles"."resource_id" IS NULL  ORDER BY "roles"."id" ASC LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)  [["role_id", 1], ["user_id", 1]]
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20140513193955)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140513193955"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateProducts (20140513212911)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140513212911"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateVariants (20140514191831)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140514191831"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddSkuToVariants (20140515164743)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "variants" ADD "sku" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140515164743"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateColors (20140516153259)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140516153259"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateProductImages (20140516201749)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140516201749"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddMenAndWomenToVariants (20140519194741)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "variants" ADD "men" boolean[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "women" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140519194741"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddColorIdToVariants (20140521154308)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521154308"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveColorFromVariants (20140521154918)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521154918"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddColorIdToProductImages (20140521162328)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "product_images" ADD "color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521162328"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddFeaturedMensAndWomensColorIdsToProducts (20140521164031)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "featured_mens_color_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products" ADD "featured_womens_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521164031"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddActiveToVariants (20140521183904)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "active" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521183904"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to RemoveNameFromProductImages (20140521184523)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521184523"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddSortOrderToProductImages (20140521194954)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "product_images" ADD "sort_order" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521194954"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateVendors (20140522140822)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "vendors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522140822"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddVendorIdToProducts (20140522141244)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "products" ADD "vendor_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522141244"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to UpdateVariantsToUseMoneyGem (20140522185845)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522185845"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to ChangeVariantPriceToAllowNil (20140522193039)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0 NOT NULL, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522193039"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to SplitDescriptionIntoLongAndShortDescriptionForProducts (20140522200049)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "products"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "short_description" text[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products" ADD "long_description" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522200049"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveFeaturedMensColorAndFeaturedWomensColorFromProducts (20140522203037)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "products"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "products"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522203037"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateProductsColors (20140522205731)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "products_colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "color_id" integer, "product_id" integer, "mens" boolean, "womens" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522205731"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddProductsColorIdToVariants (20140522210043)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "variants" ADD "products_color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522210043"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddProductsColorIdToProductsImages (20140522210103)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "product_images" ADD "products_color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522210103"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveProductIdFromVariantsAndProductImages (20140522211238)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "product_images"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "product_images"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproduct_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproduct_images"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522211238"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to RemoveColorIdFromVariants (20140522212946)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522212946"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateShapes (20140523165008)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "shapes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140523165008"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddShapeIdToProducts (20140523165153)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "shape_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140523165153"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateMaterials (20140523165252)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "materials" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140523165252"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddMaterialIdToProducts (20140523165425)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "material_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140523165425"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddMensSortOrderAndWomensSortOrderToProductsColors (20140527185556)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products_colors" ADD "mens_sort_order" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products_colors" ADD "womens_sort_order" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140527185556"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to CreateSizes (20140527194605)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sizes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "sort_order" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140527194605"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to ChangeSizeToSizeIdForVariants (20140527195014)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "size_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140527195014"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateCategories (20140529155933)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529155933"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddCategoryIdToProducts (20140529160219)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "category_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529160219"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveMenWomenFromVariants (20140529162321)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529162321"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddTaxableToProducts (20140529182947)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "products" ADD "taxable" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529182947"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveInstockFromVariants (20140530161753)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "in_stock" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140530161753"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorIdFromProductImages (20140530215558)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "product_images"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "product_images"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproduct_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproduct_images"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140530215558"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateCarts (20140602202839)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140602202839"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateCartItems (20140602204130)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "item_identifier" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140602204130"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddGuestEmailAndGuestToUsers (20140602213217)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "guest" boolean
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "guest_email" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602213217"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateAddresses (20140603151449)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603151449"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to RemoveItemIdentifierAndAddVariantIdToCartItems (20140603154032)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "acart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "cart_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "cart_items"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "acart_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "acart_items"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603154032"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to CreatePurchases (20140603154801)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603154801"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddShippingAndBillingAddressIdsToPurchases (20140603155828)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "purchases" ADD "shipping_address_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "purchases" ADD "billing_address_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603155828"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateLineItems (20140603160648)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "purchase_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603160648"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateStates (20140603190008)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "long_name" varchar(255), "short_name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603190008"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddStateIdAndCityToAddresses (20140603190208)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "addresses" ADD "state_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "city" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603190208"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddStatusToPurchases (20140603201320)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "purchases" ADD "status" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603201320"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to MoveForeignKeyFromPurchasesToAddress (20140603214200)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "shipping_address_id" integer, "billing_address_id" integer, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "purchases"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "apurchases"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "apurchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "purchases"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "purchases"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "apurchases"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "apurchases"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "shipped_purchase_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "billed_purchase_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603214200"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to MakeAddressesTablePolymorphic (20140604134458)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer, "billed_purchase_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "addressable_type" varchar(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "addressable_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_type", "addressable_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604134458"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to RemoveAddressableTypeAndIdFromAddresses (20140604152332)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_type" varchar(255), "addressable_id" integer) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_type", "addressable_id")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_id")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "type" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604152332"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to AddPurchaseIdToAddresses (20140604152932)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "addresses" ADD "purchase_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604152932"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to RemoveUniqueIndexOnUsersEmail (20140604184719)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_users_on_email"
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_users_on_email" ON "users" ("email")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604184719"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateTaxes (20140605163656)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "taxes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state_id" integer, "zip_code" varchar(255), "rate" decimal(8,5), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140605163656"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to ChangePurchasesTableNameToOrders (20140612155918)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "purchases" RENAME TO "orders"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140612155918"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to ChangeForeignKeysFromPurchaseIdToOrderId (20140612160113)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aline_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "line_items"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aline_items"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aline_items"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140612160113"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to SplitPriceIntoListPriceAndDiscountPriceForVariants (20140616135119)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616135119"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to SetDefaultListAndDiscountPriceToNilForVariants (20140616140020)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_cents" integer DEFAULT 0 NOT NULL, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_cents" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_cents" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616140020"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateCoupons (20140616161916)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "coupons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start_date" datetime, "end_date" datetime, "minimum_purchase_amount_cents" integer DEFAULT 0 NOT NULL, "minimum_purchase_amount_currency" varchar(255) DEFAULT 'USD' NOT NULL, "value" decimal(30,2), "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616161916"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddNameToCoupons (20140616200341)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "coupons" ADD "name" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616200341"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddSiteWideBooleanToCoupons (20140617191012)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "coupons" ADD "site_wide" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140617191012"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCodeToCoupons (20140617212316)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "coupons" ADD "code" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140617212316"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddCouponIdToOrders (20140618160018)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ADD "coupon_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140618160018"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddSavingsToOrders (20140620135716)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "orders" ADD "savings_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "savings_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140620135716"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateCollections (20140620183027)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "short_description" text, "long_description" text, "active" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140620183027"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateCollectionsProducts (20140620193614)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "collections_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer, "product_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140620193614"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateReturns (20140626141516)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "returns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626141516"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateReturnItems (20140626141855)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_id" integer, "quantity" integer, "line_item_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626141855"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddReasonToReturns (20140626162202)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "reason" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626162202"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddStatusToReturns (20140626165602)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "status" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626165602"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddRmaCodeToReturns (20140626180807)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "rma_code" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626180807"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddAmountToReturns (20140626183039)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "amount_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "returns" ADD "amount_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626183039"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddUserIdToReturns (20140626183925)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "user_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626183925"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddAdminCommentToReturns (20140626190931)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "admin_comment" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626190931"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddImageToColors (20140630145516)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "colors" ADD "image" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140630145516"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddTrackingNumberToOrders (20140709192351)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ADD "tracking_number" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140709192351"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36mRole Load (0.8ms)[0m  [1mSELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1[0m
SQLite3::SQLException: no such table: roles: SELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20140513193955)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140513193955"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateProducts (20140513212911)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140513212911"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateVariants (20140514191831)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140514191831"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddSkuToVariants (20140515164743)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "variants" ADD "sku" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140515164743"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateColors (20140516153259)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140516153259"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateProductImages (20140516201749)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140516201749"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddMenAndWomenToVariants (20140519194741)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "men" boolean[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "women" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140519194741"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddColorIdToVariants (20140521154308)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521154308"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to RemoveColorFromVariants (20140521154918)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "color" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521154918"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddColorIdToProductImages (20140521162328)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "product_images" ADD "color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521162328"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddFeaturedMensAndWomensColorIdsToProducts (20140521164031)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "featured_mens_color_id" integer[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "featured_womens_color_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521164031"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddActiveToVariants (20140521183904)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "variants" ADD "active" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140521183904"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to RemoveNameFromProductImages (20140521184523)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "product_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "product_images"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproduct_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproduct_images"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521184523"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddSortOrderToProductImages (20140521194954)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "product_images" ADD "sort_order" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140521194954"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateVendors (20140522140822)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "vendors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522140822"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddVendorIdToProducts (20140522141244)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "vendor_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522141244"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to UpdateVariantsToUseMoneyGem (20140522185845)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "price" decimal(30,2), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522185845"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to ChangeVariantPriceToAllowNil (20140522193039)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0 NOT NULL, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "price_cents" integer DEFAULT 0
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522193039"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to SplitDescriptionIntoLongAndShortDescriptionForProducts (20140522200049)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "products"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproducts"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "short_description" text[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products" ADD "long_description" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522200049"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveFeaturedMensColorAndFeaturedWomensColorFromProducts (20140522203037)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_mens_color_id" integer, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "products"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "featured_womens_color_id" integer, "vendor_id" integer, "short_description" text, "long_description" text) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "products"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "active" boolean, "page_title" varchar(255), "meta_description" text, "created_at" datetime, "updated_at" datetime, "vendor_id" integer, "short_description" text, "long_description" text) [0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522203037"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateProductsColors (20140522205731)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "products_colors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "color_id" integer, "product_id" integer, "mens" boolean, "womens" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522205731"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddProductsColorIdToVariants (20140522210043)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "products_color_id" integer[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522210043"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddProductsColorIdToProductsImages (20140522210103)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "product_images" ADD "products_color_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522210103"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveProductIdFromVariantsAndProductImages (20140522211238)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.2ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "product_id" integer, "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "product_images"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "product_images"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproduct_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproduct_images"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140522211238"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to RemoveColorIdFromVariants (20140522212946)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "color_id" integer, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140522212946"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateShapes (20140523165008)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "shapes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140523165008"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddShapeIdToProducts (20140523165153)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "shape_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140523165153"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateMaterials (20140523165252)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "materials" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140523165252"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddMaterialIdToProducts (20140523165425)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "material_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140523165425"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddMensSortOrderAndWomensSortOrderToProductsColors (20140527185556)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products_colors" ADD "mens_sort_order" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products_colors" ADD "womens_sort_order" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140527185556"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateSizes (20140527194605)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "sizes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "sort_order" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140527194605"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to ChangeSizeToSizeIdForVariants (20140527195014)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "size" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "size_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140527195014"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateCategories (20140529155933)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529155933"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddCategoryIdToProducts (20140529160219)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "category_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140529160219"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveMenWomenFromVariants (20140529162321)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "men" boolean, "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "women" boolean, "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529162321"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddTaxableToProducts (20140529182947)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ADD "taxable" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140529182947"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to RemoveInstockFromVariants (20140530161753)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "variants" ADD "in_stock" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140530161753"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to RemoveColorIdFromProductImages (20140530215558)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aproduct_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "color_id" integer, "sort_order" integer, "products_color_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "product_images"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "product_images"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "product_images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "image" varchar(255), "created_at" datetime, "updated_at" datetime, "sort_order" integer, "products_color_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aproduct_images"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aproduct_images"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140530215558"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to CreateCarts (20140602202839)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140602202839"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to CreateCartItems (20140602204130)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "item_identifier" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140602204130"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddGuestEmailAndGuestToUsers (20140602213217)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "users" ADD "guest" boolean
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "guest_email" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140602213217"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateAddresses (20140603151449)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603151449"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveItemIdentifierAndAddVariantIdToCartItems (20140603154032)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "acart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "cart_items"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "cart_items"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "variant_id" integer, "quantity" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "acart_items"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "acart_items"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603154032"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreatePurchases (20140603154801)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603154801"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddShippingAndBillingAddressIdsToPurchases (20140603155828)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "purchases" ADD "shipping_address_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "purchases" ADD "billing_address_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603155828"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateLineItems (20140603160648)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "purchase_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603160648"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateStates (20140603190008)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "states" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "long_name" varchar(255), "short_name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603190008"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddStateIdAndCityToAddresses (20140603190208)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "addresses" ADD "state_id" integer[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "city" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603190208"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddStatusToPurchases (20140603201320)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "purchases" ADD "status" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140603201320"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to MoveForeignKeyFromPurchasesToAddress (20140603214200)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "shipping_address_id" integer, "billing_address_id" integer, "status" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "purchases"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "apurchases"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "apurchases"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "apurchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "billing_address_id" integer, "status" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "purchases"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "purchases" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "order_date" datetime, "total_cents" integer DEFAULT 0 NOT NULL, "total_currency" varchar(255) DEFAULT 'USD' NOT NULL, "shipping_cents" integer DEFAULT 0 NOT NULL, "shipping_currency" varchar(255) DEFAULT 'USD' NOT NULL, "tax_cents" integer DEFAULT 0 NOT NULL, "tax_currency" varchar(255) DEFAULT 'USD' NOT NULL, "subtotal_cents" integer DEFAULT 0 NOT NULL, "subtotal_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime, "status" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "apurchases"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "apurchases"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "shipped_purchase_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "billed_purchase_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140603214200"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to MakeAddressesTablePolymorphic (20140604134458)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer, "billed_purchase_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "shipped_purchase_id" integer) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "addresses" ADD "addressable_type" varchar(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "addressable_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_type", "addressable_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140604134458"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to RemoveAddressableTypeAndIdFromAddresses (20140604152332)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_type" varchar(255), "addressable_id" integer) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_type", "addressable_id")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_addresses_on_addressable_type_and_addressable_id" ON "addresses" ("addressable_id")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "aaddresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "addressable_id" integer) [0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_addresses_on_addressable_type_and_addressable_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_aaddresses_on_addressable_type_and_addressable_id" ON "aaddresses" ("addressable_id")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "addresses"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "addresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_aaddresses_on_addressable_type_and_addressable_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "addresses" ADD "type" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604152332"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to AddPurchaseIdToAddresses (20140604152932)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "addresses" ADD "purchase_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604152932"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to RemoveUniqueIndexOnUsersEmail (20140604184719)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_users_on_email"
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_users_on_email" ON "users" ("email")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140604184719"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateTaxes (20140605163656)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "taxes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "state_id" integer, "zip_code" varchar(255), "rate" decimal(8,5), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140605163656"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to ChangePurchasesTableNameToOrders (20140612155918)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "purchases" RENAME TO "orders"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140612155918"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to ChangeForeignKeysFromPurchaseIdToOrderId (20140612160113)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aaddresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "addresses"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255), "last_name" varchar(255), "street_address" varchar(255), "street_address2" varchar(255), "zip_code" varchar(255), "phone_number" varchar(255), "created_at" datetime, "updated_at" datetime, "state_id" integer, "city" varchar(255), "type" varchar(255), "order_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aaddresses"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "aline_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "line_items"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "quantity" integer, "variant_id" integer, "unit_price_cents" integer DEFAULT 0 NOT NULL, "unit_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "aline_items"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "aline_items"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140612160113"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to SplitPriceIntoListPriceAndDiscountPriceForVariants (20140616135119)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_cents" integer DEFAULT 0, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "variants"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "variants"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "avariants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "avariants"
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140616135119"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to SetDefaultListAndDiscountPriceToNilForVariants (20140616140020)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_cents" integer DEFAULT 0 NOT NULL, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_cents" integer DEFAULT 0 NOT NULL, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "avariants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean, "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "variants"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "variants"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "variants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "weight" decimal(30,2), "measurements" varchar(255), "created_at" datetime, "updated_at" datetime, "sku" varchar(255), "active" boolean, "products_color_id" integer, "size_id" integer, "in_stock" boolean) [0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "avariants"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "avariants"[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "list_price_cents" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "list_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "variants" ADD "discount_price_cents" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "variants" ADD "discount_price_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616140020"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateCoupons (20140616161916)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "coupons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start_date" datetime, "end_date" datetime, "minimum_purchase_amount_cents" integer DEFAULT 0 NOT NULL, "minimum_purchase_amount_currency" varchar(255) DEFAULT 'USD' NOT NULL, "value" decimal(30,2), "type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616161916"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddNameToCoupons (20140616200341)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "coupons" ADD "name" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140616200341"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddSiteWideBooleanToCoupons (20140617191012)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "coupons" ADD "site_wide" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140617191012"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCodeToCoupons (20140617212316)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "coupons" ADD "code" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140617212316"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddCouponIdToOrders (20140618160018)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ADD "coupon_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140618160018"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddSavingsToOrders (20140620135716)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "orders" ADD "savings_cents" integer DEFAULT 0 NOT NULL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD "savings_currency" varchar(255) DEFAULT 'USD' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140620135716"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateCollections (20140620183027)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "short_description" text, "long_description" text, "active" boolean, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140620183027"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateCollectionsProducts (20140620193614)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "collections_products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer, "product_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140620193614"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateReturns (20140626141516)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "returns" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626141516"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateReturnItems (20140626141855)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "return_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "return_id" integer, "quantity" integer, "line_item_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626141855"]]
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddReasonToReturns (20140626162202)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "reason" text
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626162202"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddStatusToReturns (20140626165602)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "status" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626165602"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddRmaCodeToReturns (20140626180807)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "rma_code" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140626180807"]]
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to AddAmountToReturns (20140626183039)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "returns" ADD "amount_cents" integer DEFAULT 0 NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "returns" ADD "amount_currency" varchar(255) DEFAULT 'USD' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626183039"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddUserIdToReturns (20140626183925)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "user_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626183925"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddAdminCommentToReturns (20140626190931)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "returns" ADD "admin_comment" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140626190931"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddImageToColors (20140630145516)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "colors" ADD "image" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140630145516"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to AddTrackingNumberToOrders (20140709192351)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ADD "tracking_number" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140709192351"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to RolifyCreateRoles (20160619211835)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "resource_id" integer, "resource_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users_roles" ("user_id" integer, "role_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [1m[35m (0.0ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_roles_on_name_and_resource_type_and_resource_id" ON "roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_users_roles_on_user_id_and_role_id" ON "users_roles" ("user_id", "role_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160619211835"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name_and_resource_type_and_resource_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_roles_on_user_id_and_role_id' AND type='index'

  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'admin@blah.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-06-19 21:19:39.767013"], ["email", "admin@blah.com"], ["encrypted_password", "$2a$10$5xUMA1vTk7Ji0hIk7nIxX.9FvjAoStfoIldvxEDwNmeJvs8/kjRbe"], ["updated_at", "2016-06-19 21:19:39.767013"]]
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  "carts".* FROM "carts"  WHERE "carts"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "carts" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", "2016-06-19 21:19:39.783977"], ["updated_at", "2016-06-19 21:19:39.783977"], ["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles"  WHERE "roles"."name" = 'admin' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "roles" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", "2016-06-19 21:19:44.951369"], ["name", "admin"], ["updated_at", "2016-06-19 21:19:44.951369"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)  [["role_id", 1], ["user_id", 1]]
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" DESC LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles"   ORDER BY "roles"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users_roles" ("role_id", "user_id") VALUES (?, ?)[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction


Started GET "/admin" for 127.0.0.1 at 2016-06-19 17:27:08 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Admin::SiteController#index as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
Redirected to http://localhost:3000/
Filter chain halted as :authenticate_admin_user! rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-06-19 17:27:08 -0400
Processing by SiteController#index as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  Rendered site/index.html.erb within layouts/application (1.3ms)
Completed 500 Internal Server Error in 87ms

Sprockets::FileNotFound - couldn't find file 'jquery.ui.all'
  (in /Users/emai/Documents/color_based_products_10/app/assets/javascripts/admin.js:17):
  sprockets (2.12.4) lib/sprockets/context.rb:106:in `resolve'
  sprockets (2.12.4) lib/sprockets/context.rb:146:in `require_asset'
  sprockets (2.12.4) lib/sprockets/directive_processor.rb:217:in `process_require_directive'
  sprockets (2.12.4) lib/sprockets/directive_processor.rb:167:in `block in process_directives'
  sprockets (2.12.4) lib/sprockets/directive_processor.rb:165:in `process_directives'
  sprockets (2.12.4) lib/sprockets/directive_processor.rb:99:in `evaluate'
  tilt (1.4.1) lib/tilt/template.rb:103:in `render'
  sprockets (2.12.4) lib/sprockets/context.rb:197:in `block in evaluate'
  sprockets (2.12.4) lib/sprockets/context.rb:194:in `evaluate'
  sprockets (2.12.4) lib/sprockets/processed_asset.rb:12:in `initialize'
  sprockets (2.12.4) lib/sprockets/base.rb:374:in `block in build_asset'
  sprockets (2.12.4) lib/sprockets/base.rb:395:in `circular_call_protection'
  sprockets (2.12.4) lib/sprockets/base.rb:373:in `build_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:94:in `block in build_asset'
  sprockets (2.12.4) lib/sprockets/caching.rb:58:in `cache_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:93:in `build_asset'
  sprockets (2.12.4) lib/sprockets/base.rb:287:in `find_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:61:in `find_asset'
  sprockets (2.12.4) lib/sprockets/processed_asset.rb:111:in `block in resolve_dependencies'
  sprockets (2.12.4) lib/sprockets/processed_asset.rb:105:in `resolve_dependencies'
  sprockets (2.12.4) lib/sprockets/processed_asset.rb:97:in `build_required_assets'
  sprockets (2.12.4) lib/sprockets/processed_asset.rb:16:in `initialize'
  sprockets (2.12.4) lib/sprockets/base.rb:374:in `block in build_asset'
  sprockets (2.12.4) lib/sprockets/base.rb:395:in `circular_call_protection'
  sprockets (2.12.4) lib/sprockets/base.rb:373:in `build_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:94:in `block in build_asset'
  sprockets (2.12.4) lib/sprockets/caching.rb:58:in `cache_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:93:in `build_asset'
  sprockets (2.12.4) lib/sprockets/base.rb:287:in `find_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:61:in `find_asset'
  sprockets (2.12.4) lib/sprockets/bundled_asset.rb:16:in `initialize'
  sprockets (2.12.4) lib/sprockets/base.rb:377:in `build_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:94:in `block in build_asset'
  sprockets (2.12.4) lib/sprockets/caching.rb:58:in `cache_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:93:in `build_asset'
  sprockets (2.12.4) lib/sprockets/base.rb:287:in `find_asset'
  sprockets (2.12.4) lib/sprockets/index.rb:61:in `find_asset'
  sprockets (2.12.4) lib/sprockets/environment.rb:75:in `find_asset'
  sprockets (2.12.4) lib/sprockets/base.rb:295:in `[]'
  sprockets-rails (2.3.3) lib/sprockets/rails/helper.rb:230:in `lookup_asset_for_path'
  sprockets-rails (2.3.3) lib/sprockets/rails/helper.rb:190:in `check_errors_for'
  sprockets-rails (2.3.3) lib/sprockets/rails/helper.rb:137:in `block in javascript_include_tag'
  sprockets-rails (2.3.3) lib/sprockets/rails/helper.rb:136:in `javascript_include_tag'
   () Users/emai/Documents/color_based_products_10/app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb___3374670899459969096_70359766206100'
  actionview (4.1.4) lib/action_view/template.rb:145:in `block in render'
  activesupport (4.1.4) lib/active_support/notifications.rb:161:in `instrument'
  actionview (4.1.4) lib/action_view/template.rb:339:in `instrument'
  actionview (4.1.4) lib/action_view/template.rb:143:in `render'
  actionview (4.1.4) lib/action_view/renderer/template_renderer.rb:67:in `render_with_layout'
  actionview (4.1.4) lib/action_view/renderer/template_renderer.rb:53:in `render_template'
  actionview (4.1.4) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionview (4.1.4) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.1.4) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.1.4) lib/action_view/rendering.rb:99:in `_render_template'
  actionpack (4.1.4) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.1.4) lib/action_view/rendering.rb:82:in `render_to_body'
  actionpack (4.1.4) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.1.4) lib/action_controller/metal/renderers.rb:32:in `render_to_body'
  actionpack (4.1.4) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.1.4) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.1.4) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
   () opt/rubies/2.2.4/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.1.4) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.1.4) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:40:in `render'
  remotipart (1.2.1) lib/remotipart/render_overrides.rb:14:in `render_with_remotipart'
  actionpack (4.1.4) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.1.4) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.1.4) lib/active_support/callbacks.rb:113:in `call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:229:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:166:in `block in halting'
  activesupport (4.1.4) lib/active_support/callbacks.rb:86:in `run_callbacks'
  actionpack (4.1.4) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.1.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.1.4) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.1.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.1.4) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.1.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.1.4) lib/abstract_controller/base.rb:136:in `process'
  actionview (4.1.4) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.1.4) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.1.4) lib/action_controller/metal.rb:232:in `block in action'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.1.4) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.1.4) lib/action_dispatch/routing/route_set.rb:678:in `call'
  warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.6) lib/warden/manager.rb:34:in `call'
  rack (1.5.5) lib/rack/etag.rb:23:in `call'
  rack (1.5.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.5) lib/rack/head.rb:11:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/flash.rb:254:in `call'
  rack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.1.4) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.1.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:621:in `call'
  activerecord (4.1.4) lib/active_record/migration.rb:380:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.4) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.4) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.4) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.4) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.5) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.4) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.5) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.4) lib/rails/engine.rb:514:in `call'
  railties (4.1.4) lib/rails/application.rb:144:in `call'
  rack (1.5.5) lib/rack/content_length.rb:14:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.0.1) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.5.5) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.5) lib/rack/server.rb:264:in `start'
  railties (4.1.4) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.4) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.4) lib/rails/commands.rb:17:in `<top (required)>'
   () Users/emai/Documents/color_based_products_10/bin/rails:8:in `<top (required)>'
  spring (1.7.1) lib/spring/client/rails.rb:28:in `call'
  spring (1.7.1) lib/spring/client/command.rb:7:in `call'
  spring (1.7.1) lib/spring/client.rb:30:in `run'
  spring (1.7.1) bin/spring:49:in `<top (required)>'
  spring (1.7.1) lib/spring/binstub.rb:11:in `<top (required)>'
   () Users/emai/Documents/color_based_products_10/bin/spring:16:in `<top (required)>'
   () rails:3:in `<main>'



Started POST "/__better_errors/3b56830a0338035e/variables" for 127.0.0.1 at 2016-06-19 17:27:09 -0400


Started GET "/" for 127.0.0.1 at 2016-06-19 17:28:12 -0400
Processing by SiteController#index as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  Rendered site/index.html.erb within layouts/application (0.2ms)
  Rendered shared/_navbar.html.erb (1.2ms)
Completed 200 OK in 1381ms (Views: 1380.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/admin.css?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery.turbolinks.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery.remotipart.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery.iframe-transport.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/core.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/position.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/menu.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/widget.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/accordion.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/autocomplete.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/datepicker.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/mouse.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/draggable.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/resizable.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/button.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/dialog.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/droppable.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-blind.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-bounce.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-clip.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-explode.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-fade.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-drop.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-fold.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-highlight.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-scale.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-puff.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-size.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-shake.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-slide.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-pulsate.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/effect-transfer.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/progressbar.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/selectable.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/spinner.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/selectmenu.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/slider.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/sortable.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/tabs.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/jquery-ui/tooltip.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/admin.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:14 -0400


Started GET "/users/sign_in" for 127.0.0.1 at 2016-06-19 17:28:19 -0400
Processing by SessionsController#new as HTML
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  Rendered devise/shared/_links.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (26.3ms)
  Rendered shared/_navbar.html.erb (0.4ms)
Completed 200 OK in 233ms (Views: 225.0ms | ActiveRecord: 0.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2016-06-19 17:28:26 -0400
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GEz2QSW2vS/oT9c5eQcMJh17ckudLwUsAOD3ML3Gipg=", "user"=>{"email"=>"admin@blah.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign in"}
USER SESSION VARIABLES ARE: nil
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'admin@blah.com'  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Binary data inserted for `string` type on column `current_sign_in_ip`
Binary data inserted for `string` type on column `last_sign_in_ip`
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "current_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_at" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["current_sign_in_at", "2016-06-19 21:28:27.085067"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_at", "2016-06-19 21:28:27.085067"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-06-19 21:28:27.086070"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 96ms (ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2016-06-19 17:28:27 -0400
Processing by SiteController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  Rendered site/index.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  Rendered shared/_navbar.html.erb (25.0ms)
Completed 200 OK in 220ms (Views: 219.1ms | ActiveRecord: 0.7ms)


Started GET "/assets/admin.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:27 -0400


Started GET "/admin" for 127.0.0.1 at 2016-06-19 17:28:29 -0400
Processing by Admin::SiteController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  Rendered admin/site/index.html.erb within layouts/admin (1.3ms)
Completed 200 OK in 156ms (Views: 153.5ms | ActiveRecord: 0.2ms)


Started GET "/assets/admin.js?body=1" for 127.0.0.1 at 2016-06-19 17:28:30 -0400


Started GET "/admin/categories" for 127.0.0.1 at 2016-06-19 17:28:33 -0400
Processing by Admin::CategoriesController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories"  LIMIT 30 OFFSET 0[0m
  Rendered admin/categories/index.html.erb within layouts/admin (2.4ms)
Completed 200 OK in 174ms (Views: 168.8ms | ActiveRecord: 0.5ms)


Started GET "/admin/collections" for 127.0.0.1 at 2016-06-19 17:28:37 -0400
Processing by Admin::CollectionsController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "collections"
  [1m[36mCollection Load (0.1ms)[0m  [1mSELECT  "collections".* FROM "collections"   ORDER BY name ASC LIMIT 30 OFFSET 0[0m
  Rendered admin/collections/index.html.erb within layouts/admin (2.1ms)
Completed 200 OK in 179ms (Views: 172.2ms | ActiveRecord: 0.7ms)


Started GET "/admin/colors" for 127.0.0.1 at 2016-06-19 17:28:39 -0400
Processing by Admin::ColorsController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "colors"
  [1m[36mColor Load (0.1ms)[0m  [1mSELECT  "colors".* FROM "colors"   ORDER BY name ASC LIMIT 30 OFFSET 0[0m
  Rendered admin/colors/index.html.erb within layouts/admin (1.8ms)
Completed 200 OK in 164ms (Views: 157.0ms | ActiveRecord: 0.6ms)


Started GET "/admin/colors/new" for 127.0.0.1 at 2016-06-19 17:28:41 -0400
Processing by Admin::ColorsController#new as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  Rendered admin/colors/_form.html.erb (4.8ms)
  Rendered admin/colors/new.html.erb within layouts/admin (6.6ms)
Completed 200 OK in 173ms (Views: 170.4ms | ActiveRecord: 0.2ms)


Started GET "/admin/materials" for 127.0.0.1 at 2016-06-19 17:28:45 -0400
Processing by Admin::MaterialsController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "materials"
  [1m[36mMaterial Load (0.1ms)[0m  [1mSELECT  "materials".* FROM "materials"  LIMIT 30 OFFSET 0[0m
  Rendered admin/materials/index.html.erb within layouts/admin (1.9ms)
Completed 200 OK in 172ms (Views: 167.9ms | ActiveRecord: 0.5ms)


Started GET "/admin/orders" for 127.0.0.1 at 2016-06-19 17:28:48 -0400
Processing by Admin::OrdersController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"  WHERE "orders"."status" IN ('In progress', 'Shipped')
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders"  WHERE "orders"."status" IN ('In progress', 'Shipped')  ORDER BY order_date ASC LIMIT 30 OFFSET 0[0m
  Rendered admin/orders/index.html.erb within layouts/admin (3.8ms)
Completed 200 OK in 166ms (Views: 163.1ms | ActiveRecord: 0.9ms)


Started GET "/admin/shapes" for 127.0.0.1 at 2016-06-19 17:28:51 -0400
Processing by Admin::ShapesController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shapes"
  [1m[36mShape Load (0.1ms)[0m  [1mSELECT  "shapes".* FROM "shapes"  LIMIT 30 OFFSET 0[0m
  Rendered admin/shapes/index.html.erb within layouts/admin (2.0ms)
Completed 200 OK in 164ms (Views: 157.7ms | ActiveRecord: 0.6ms)


Started GET "/admin/products" for 127.0.0.1 at 2016-06-19 17:28:58 -0400
Processing by Admin::ProductsController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products"   ORDER BY name ASC LIMIT 30 OFFSET 0[0m
  Rendered admin/products/index.html.erb within layouts/admin (2.5ms)
Completed 200 OK in 187ms (Views: 177.7ms | ActiveRecord: 0.8ms)


Started GET "/admin" for 127.0.0.1 at 2016-06-19 17:29:16 -0400
Processing by Admin::SiteController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  Rendered admin/site/index.html.erb within layouts/admin (0.6ms)
Completed 200 OK in 773ms (Views: 770.4ms | ActiveRecord: 0.2ms)


Started GET "/assets/jquery-ui/theme.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/admin.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/autocomplete.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/core.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/accordion.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/menu.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/datepicker.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/button.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/draggable.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/selectable.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/resizable.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/dialog.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/progressbar.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/selectmenu.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/sortable.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/slider.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/all.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/spinner.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/tabs.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/tooltip.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/base.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui.css?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery.turbolinks.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/accordion.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/core.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/widget.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/position.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/menu.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/autocomplete.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/button.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/datepicker.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/mouse.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/draggable.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/resizable.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/dialog.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/droppable.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-blind.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-bounce.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-clip.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-drop.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-explode.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-fade.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-fold.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-highlight.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-size.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-scale.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-puff.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-pulsate.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-shake.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-slide.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/effect-transfer.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/progressbar.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/selectable.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/selectmenu.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/slider.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/sortable.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/spinner.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/tabs.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui/tooltip.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/jquery-ui.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/assets/admin.js?body=1" for 127.0.0.1 at 2016-06-19 17:29:17 -0400


Started GET "/admin/coupons" for 127.0.0.1 at 2016-06-19 17:29:20 -0400
Processing by Admin::CouponsController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "coupons"
  [1m[36mCoupon Load (0.1ms)[0m  [1mSELECT  "coupons".* FROM "coupons"  LIMIT 30 OFFSET 0[0m
  Rendered admin/coupons/index.html.erb within layouts/admin (2.1ms)
Completed 200 OK in 254ms (Views: 247.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-06-19 17:36:57 -0400
Processing by SiteController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  Rendered site/index.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 1]]
  Rendered shared/_navbar.html.erb (3.9ms)
Completed 200 OK in 307ms (Views: 306.1ms | ActiveRecord: 0.3ms)


Started GET "/assets/admin.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/theme.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/core.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/accordion.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/menu.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/autocomplete.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/button.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/datepicker.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/draggable.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/resizable.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/dialog.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/progressbar.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/selectable.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/selectmenu.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/sortable.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/slider.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/spinner.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/tabs.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/tooltip.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/base.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/all.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui.css?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery.turbolinks.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery.iframe-transport.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery.remotipart.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/core.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/widget.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/accordion.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/position.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/menu.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/autocomplete.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/button.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/datepicker.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/mouse.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/draggable.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/resizable.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/dialog.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/droppable.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-blind.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-bounce.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-clip.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-drop.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-explode.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-fade.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-fold.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-highlight.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-size.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-scale.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-puff.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-pulsate.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-shake.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-slide.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/effect-transfer.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/progressbar.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/selectable.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/selectmenu.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/slider.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/sortable.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/spinner.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/tabs.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui/tooltip.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/jquery-ui.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/assets/admin.js?body=1" for 127.0.0.1 at 2016-06-19 17:36:58 -0400


Started GET "/collections" for 127.0.0.1 at 2016-06-19 17:37:02 -0400
Processing by CollectionsController#index as HTML
USER SESSION VARIABLES ARE: [[1], "$2a$10$5xUMA1vTk7Ji0hIk7nIxX."]
COOKIE[:AUTH_TOKEN] IS: nil
COOKIE[:GUEST_USER_ID] IS: nil
  [1m[35mCollection Load (0.1ms)[0m  SELECT "collections".* FROM "collections"  WHERE "collections"."active" = 't'  ORDER BY name ASC
  Rendered collections/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = ? AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))  [["user_id", 1]]
  Rendered shared/_navbar.html.erb (2.7ms)
Completed 200 OK in 246ms (Views: 244.6ms | ActiveRecord: 0.3ms)
